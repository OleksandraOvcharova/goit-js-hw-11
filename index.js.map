{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImages(search) {\n  return axios\n    .get('https://pixabay.com/api', {\n      params: {\n        key: '49368815-3bbcd5bcef21230b847f53bd6',\n        q: search,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(({ data: { hits } }) => {\n      return hits;\n    })\n    .catch(() => {\n      return [];\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst modals = new SimpleLightbox('a.gallery-link', { captionsData: 'alt' });\nconst gallery = document.querySelector('ul.gallery');\nconst loader = document.querySelector('span.loader');\n\nexport function renderImages(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n          <ul class=\"gallery-list\">\n          <li class=\"gallery-list-item\">\n          <p class=\"gallery-list-item-text\">Likes</p>\n          <p class=\"gallery-list-item-value\">${likes}</p>\n          </li>\n           <li class=\"gallery-list-item\">\n          <p class=\"gallery-list-item-text\">Views</p>\n          <p class=\"gallery-list-item-value\">${views}</p>\n          </li>\n           <li class=\"gallery-list-item\">\n          <p class=\"gallery-list-item-text\">Comments</p>\n          <p class=\"gallery-list-item-value\">${comments}</p>\n          </li>\n           <li class=\"gallery-list-item\">\n          <p class=\"gallery-list-item-text\">Downloads</p>\n          <p class=\"gallery-list-item-value\">${downloads}</p>\n          </li>\n          </ul></a></li>`;\n      }\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  modals.refresh();\n}\n\nexport function renderError() {\n  iziToast.error({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n}\n\nexport function showLoader() {\n  gallery.innerHTML = '';\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}\n","import { getImages } from './js/pixabay-api';\nimport {\n  renderImages,\n  renderError,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst form = document.querySelector('form');\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const data = new FormData(event.target);\n  const searchText = data.get('search-text');\n  if (searchText === '') {\n    return;\n  }\n  showLoader();\n  getImages(searchText)\n    .then(hits => {\n      hideLoader();\n      if (hits.length === 0) {\n        renderError();\n      } else {\n        renderImages(hits);\n      }\n    })\n    .catch(error => console.log(error));\n});\n"],"names":["getImages","search","axios","hits","modals","SimpleLightbox","gallery","loader","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderError","iziToast","showLoader","hideLoader","form","event","searchText","error"],"mappings":"owBAEO,SAASA,EAAUC,EAAQ,CAChC,OAAOC,EACJ,IAAI,0BAA2B,CAC9B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAK,CAAC,CAAE,KAAM,CAAE,KAAAE,CAAM,CAAA,IACdA,CACR,EACA,MAAM,IACE,EACR,CACL,CCdA,MAAMC,EAAS,IAAIC,EAAe,iBAAkB,CAAE,aAAc,KAAK,CAAE,EACrEC,EAAU,SAAS,cAAc,YAAY,EAC7CC,EAAS,SAAS,cAAc,aAAa,EAE5C,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,0CAC2BL,CAAa;AAAA,4CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,+CAIvBC,CAAK;AAAA;AAAA;AAAA;AAAA,+CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+CAIRC,CAAS;AAAA;AAAA,yBAInD,EACA,KAAK,EAAE,EAEVX,EAAQ,mBAAmB,YAAaI,CAAM,EAC9CN,EAAO,QAAO,CAChB,CAEO,SAASc,GAAc,CAC5BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACd,CAAG,CACH,CAEO,SAASC,GAAa,CAC3Bd,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASc,GAAa,CAC3Bd,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCzDA,MAAMe,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EADO,IAAI,SAASD,EAAM,MAAM,EACd,IAAI,aAAa,EACrCC,IAAe,KAGnBJ,IACApB,EAAUwB,CAAU,EACjB,KAAKrB,GAAQ,CACZkB,IACIlB,EAAK,SAAW,EAClBe,IAEAV,EAAaL,CAAI,CAEzB,CAAK,EACA,MAAMsB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACtC,CAAC"}